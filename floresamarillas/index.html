<!doctype html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Playball&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
  <title>Flores para ti</title>
  <style>
    body {
      margin: 0;
      height: 100%;
      background: #000;
      overflow: hidden;
      font-family: 'Poppins', sans-serif;
    }

    canvas#fw {
      position: fixed;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      display: block;
    }

    .cont-letras {
 
      text-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
    }

    .globos {
      display: flex;
      gap: 10px;
      margin-top: 25px;
    }

    .globo {
      width: 35px;
      height: 55px;
      border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      font-weight: bold;
      color: #fff;
      position: relative;
    }

    .globo::after {
      content: "";
      position: absolute;
      bottom: -12px;
      width: 2px;
      height: 20px;
      background: #fff;
    }

    .globo.dorado {
      background: linear-gradient(145deg, #ffd700, #daa520);
    }

    .globo.gris {
      background: linear-gradient(145deg, #d3d3d3, #a9a9a9);
    }

    .hint {
      position: fixed;
      right: 14px;
      bottom: 14px;
      color: #ddd;
      z-index: 3;
      font-size: 13px;
      opacity: 0.7;
    }
  </style>
</head>

<body>
  <canvas id="fw"></canvas>

  <div class="cont-letras">
      <div class="globos">
        <div class="globo dorado">♡</div>
        <div class="globo gris">L</div>
        <div class="globo dorado">O</div>
        <div class="globo gris">V</div>
        <div class="globo dorado">E</div>
        <div class="globo gris">♡</div>
      </div>
    <div style="margin-top: 60px;">Flores para tí<br><span>TE AMO</span></div>
    <img src="floresamarillas.png" alt="">
  </div>

  <div class="dedicatoria">
    De: Jeremías<br>
    Para: La swiftie más hermosa ❤️
  </div>
  <!-- <div class="hint">Haz clic o toca para lanzar fuegos artificiales</div> -->

  <script>
    const canvas = document.getElementById('fw');
    const ctx = canvas.getContext('2d');
    let w = canvas.width = innerWidth;
    let h = canvas.height = innerHeight;

    addEventListener('resize', () => {
      w = canvas.width = innerWidth;
      h = canvas.height = innerHeight;
    });

    const rockets = [];
    const particles = [];

    function rand(min, max) { return Math.random() * (max - min) + min }

    class Rocket {
      constructor(x, y, tx, ty) {
        this.x = x; this.y = y;
        this.tx = tx; this.ty = ty;
        this.vx = (tx - x) * 0.02 + rand(-1, 1);
        this.vy = (ty - y) * 0.02 + rand(-6, -2);
        this.size = 3 + Math.random() * 2;
        this.color = Math.random() < 0.5 ? 'yellow' : 'cyan';
        this.exploded = false;
      }
      update() {
        this.vx *= 0.995;
        this.vy += 0.12;
        this.x += this.vx; this.y += this.vy;
        const dx = this.x - this.tx; const dy = this.y - this.ty;
        if (!this.exploded && (dx * dx + dy * dy < 1000 || this.vy > 2)) {
          this.explode();
          this.exploded = true;
        }
      }
      explode() {
        const count = Math.floor(rand(30, 80));
        for (let i = 0; i < count; i++) {
          const angle = Math.random() * Math.PI * 2;
          const speed = rand(1, 6);
          particles.push(new Particle(this.x, this.y, Math.cos(angle) * speed, Math.sin(angle) * speed, this.color));
        }
      }
      draw(ctx) {
        ctx.save();
        ctx.beginPath();
        ctx.globalCompositeOperation = 'lighter';
        ctx.fillStyle = this.color;
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
        ctx.restore();
      }
    }

    class Particle {
      constructor(x, y, vx, vy, color) {
        this.x = x; this.y = y; this.vx = vx; this.vy = vy;
        this.alpha = 1; this.size = 1 + Math.random() * 2;
        this.color = color;
        this.decay = rand(0.008, 0.03);
        this.gravity = 0.04 + Math.random() * 0.06;
      }
      update() {
        this.vx *= 0.99; this.vy += this.gravity;
        this.x += this.vx; this.y += this.vy;
        this.alpha -= this.decay;
      }
      draw(ctx) {
        ctx.save();
        ctx.beginPath();
        ctx.globalCompositeOperation = 'lighter';
        ctx.fillStyle = this.color === 'yellow'
          ? `rgba(255, 215, 0, ${this.alpha})`
          : `rgba(0, 255, 255, ${this.alpha})`;
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
        ctx.restore();
      }
    }

    function loop() {
      ctx.globalCompositeOperation = 'source-over';
      ctx.fillStyle = 'rgba(0,0,0,0.25)';
      ctx.fillRect(0, 0, w, h);

      for (let i = rockets.length - 1; i >= 0; i--) {
        const r = rockets[i];
        r.update();
        r.draw(ctx);
        if (r.exploded) rockets.splice(i, 1);
      }

      for (let i = particles.length - 1; i >= 0; i--) {
        const p = particles[i];
        p.update();
        if (p.alpha <= 0) { particles.splice(i, 1); continue }
        p.draw(ctx);
      }

      requestAnimationFrame(loop);
    }

    let autoTicker = 0;
    function autoLaunch() {
      autoTicker++;
      if (autoTicker % 40 === 0) {
        const x = rand(w * 0.1, w * 0.9);
        rockets.push(new Rocket(x, h, x, rand(h * 0.15, h * 0.45)));
      }
      requestAnimationFrame(autoLaunch);
    }

    function pointerHandler(e) {
      const rect = canvas.getBoundingClientRect();
      const x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
      const y = (e.touches ? e.touches[0].clientY : e.clientY) - rect.top;
      for (let i = 0; i < 4; i++) {
        rockets.push(new Rocket(rand(w * 0.1, w * 0.9), h, x + rand(-60, 60), y + rand(-80, 80)));
      }
    }

    canvas.addEventListener('click', pointerHandler);
    canvas.addEventListener('touchstart', pointerHandler, { passive: true });

    loop();
    autoLaunch();
  </script>
</body>

</html>
